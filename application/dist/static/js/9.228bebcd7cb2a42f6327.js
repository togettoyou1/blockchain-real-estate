webpackJsonp([9],{YP5p:function(e,t){},kw0f:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),l=s("NYxO"),i=s("+OSn"),c={name:"BuySelling",data:function(){return{loading:!0,sellingList:[]}},computed:a.a({},l.b(["accountId","userName","balance"])),created:function(){var e=this;i.d({buyer:this.accountId}).then(function(t){null!==t&&(e.sellingList=t),e.loading=!1}).catch(function(t){e.loading=!1})},methods:{updateSelling:function(e,t){var s=this,n="";n="done"===t?"确认收款":"取消操作",this.$confirm("是否要"+n+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){s.loading=!0,i.e({buyer:e.selling.buyer,objectOfSale:e.selling.objectOfSale,seller:e.selling.seller,status:t}).then(function(e){s.loading=!1,null!==e?s.$message({type:"success",message:n+"操作成功!"}):s.$message({type:"error",message:n+"操作失败!"}),setTimeout(function(){window.location.reload()},1e3)}).catch(function(e){s.loading=!1})}).catch(function(){s.loading=!1,s.$message({type:"info",message:"已取消"+n})})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("el-alert",{attrs:{type:"success"}},[s("p",[e._v("账户ID: "+e._s(e.accountId))]),e._v(" "),s("p",[e._v("用户名: "+e._s(e.userName))]),e._v(" "),s("p",[e._v("余额: ￥"+e._s(e.balance)+" 元")])]),e._v(" "),0==e.sellingList.length?s("div",{staticStyle:{"text-align":"center"}},[s("el-alert",{attrs:{title:"查询不到数据",type:"warning"}})],1):e._e(),e._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:20}},e._l(e.sellingList,function(t,n){return s("el-col",{key:n,attrs:{span:6,offset:1}},[s("el-card",{staticClass:"buy-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s(t.selling.sellingStatus))]),e._v(" "),"完成"!==t.selling.sellingStatus&&"已过期"!==t.selling.sellingStatus&&"已取消"!==t.selling.sellingStatus?s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(s){return e.updateSelling(t,"cancelled")}}},[e._v("取消")]):e._e()],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"warning"}},[e._v("下单时间: ")]),e._v(" "),s("span",[e._v(e._s(t.createTime))])],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",[e._v("药品ID: ")]),e._v(" "),s("span",[e._v(e._s(t.selling.objectOfSale))])],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"success"}},[e._v("销售者ID: ")]),e._v(" "),s("span",[e._v(e._s(t.selling.seller))])],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"danger"}},[e._v("价格: ")]),e._v(" "),s("span",[e._v("￥"+e._s(t.selling.price)+" 元")])],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"warning"}},[e._v("有效期: ")]),e._v(" "),s("span",[e._v(e._s(t.selling.salePeriod)+" 天")])],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"info"}},[e._v("创建时间: ")]),e._v(" "),s("span",[e._v(e._s(t.selling.createTime))])],1),e._v(" "),s("div",{staticClass:"item"},[s("el-tag",[e._v("购买者ID: ")]),e._v(" "),""===t.selling.buyer?s("span",[e._v("虚位以待")]):e._e(),e._v(" "),s("span",[e._v(e._s(t.selling.buyer))])],1)])],1)}),1)],1)},staticRenderFns:[]};var o=s("VU/8")(c,r,!1,function(e){s("YP5p")},null,null);t.default=o.exports}});
//# sourceMappingURL=9.228bebcd7cb2a42f6327.js.map