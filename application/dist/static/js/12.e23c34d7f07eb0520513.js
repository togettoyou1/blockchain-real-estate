webpackJsonp([12],{Xxnf:function(t,n){},gPCn:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("Dd8w"),s=e.n(a),i=e("NYxO"),o=e("raiF"),c={name:"AllDonating",data:function(){return{loading:!0,donatingList:[]}},computed:s.a({},i.b(["accountId","roles","userName","balance"])),created:function(){var t=this;o.b().then(function(n){null!==n&&(t.donatingList=n),t.loading=!1}).catch(function(n){t.loading=!1})},methods:{updateDonating:function(t,n){var e=this,a="";a="done"===n?"确认接受捐赠":"取消捐赠操作",this.$confirm("是否要"+a+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.loading=!0,o.c({donor:t.donor,grantee:t.grantee,objectOfDonating:t.objectOfDonating,status:n}).then(function(t){e.loading=!1,null!==t?e.$message({type:"success",message:a+"操作成功!"}):e.$message({type:"error",message:a+"操作失败!"}),setTimeout(function(){window.location.reload()},1e3)}).catch(function(t){e.loading=!1})}).catch(function(){e.loading=!1,e.$message({type:"info",message:"已取消"+a})})}}},r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("el-alert",{attrs:{type:"success"}},[e("p",[t._v("账户ID: "+t._s(t.accountId))]),t._v(" "),e("p",[t._v("用户名: "+t._s(t.userName))]),t._v(" "),e("p",[t._v("余额: ￥"+t._s(t.balance)+" 元")])]),t._v(" "),0==t.donatingList.length?e("div",{staticStyle:{"text-align":"center"}},[e("el-alert",{attrs:{title:"查询不到数据",type:"warning"}})],1):t._e(),t._v(" "),e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{gutter:20}},t._l(t.donatingList,function(n,a){return e("el-col",{key:a,attrs:{span:6,offset:1}},[e("el-card",{staticClass:"d-all-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(n.donatingStatus))]),t._v(" "),"admin"!==t.roles[0]&&n.grantee===t.accountId&&"捐赠中"===n.donatingStatus?e("el-button",{staticStyle:{float:"right",padding:"3px 6px"},attrs:{type:"text"},on:{click:function(e){return t.updateDonating(n,"done")}}},[t._v("确认接收")]):t._e(),t._v(" "),"admin"===t.roles[0]||n.donor!==t.accountId&&n.grantee!==t.accountId||"捐赠中"!==n.donatingStatus?t._e():e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.updateDonating(n,"cancelled")}}},[t._v("取消")])],1),t._v(" "),e("div",{staticClass:"item"},[e("el-tag",[t._v("药品ID: ")]),t._v(" "),e("span",[t._v(t._s(n.objectOfDonating))])],1),t._v(" "),e("div",{staticClass:"item"},[e("el-tag",{attrs:{type:"success"}},[t._v("捐赠者ID: ")]),t._v(" "),e("span",[t._v(t._s(n.donor))])],1),t._v(" "),e("div",{staticClass:"item"},[e("el-tag",{attrs:{type:"danger"}},[t._v("受赠人ID: ")]),t._v(" "),e("span",[t._v(t._s(n.grantee))])],1),t._v(" "),e("div",{staticClass:"item"},[e("el-tag",{attrs:{type:"warning"}},[t._v("创建时间: ")]),t._v(" "),e("span",[t._v(t._s(n.createTime))])],1)])],1)}),1)],1)},staticRenderFns:[]};var l=e("VU/8")(c,r,!1,function(t){e("Xxnf")},null,null);n.default=l.exports}});
//# sourceMappingURL=12.e23c34d7f07eb0520513.js.map