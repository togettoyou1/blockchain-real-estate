webpackJsonp([8],{N51n:function(t,e){},uEOn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),l=s("NYxO"),i=s("+OSn"),c={name:"MeSelling",data:function(){return{loading:!0,sellingList:[]}},computed:n.a({},l.b(["accountId","userName","balance"])),created:function(){var t=this;i.c({seller:this.accountId}).then(function(e){null!==e&&(t.sellingList=e),t.loading=!1}).catch(function(e){t.loading=!1})},methods:{updateSelling:function(t,e){var s=this,a="";a="done"===e?"确认收款":"取消操作",this.$confirm("是否要"+a+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){s.loading=!0,i.e({buyer:t.buyer,objectOfSale:t.objectOfSale,seller:t.seller,status:e}).then(function(t){s.loading=!1,null!==t?s.$message({type:"success",message:a+"操作成功!"}):s.$message({type:"error",message:a+"操作失败!"}),setTimeout(function(){window.location.reload()},1e3)}).catch(function(t){s.loading=!1})}).catch(function(){s.loading=!1,s.$message({type:"info",message:"已取消"+a})})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("el-alert",{attrs:{type:"success"}},[s("p",[t._v("账户ID: "+t._s(t.accountId))]),t._v(" "),s("p",[t._v("用户名: "+t._s(t.userName))]),t._v(" "),s("p",[t._v("余额: ￥"+t._s(t.balance)+" 元")])]),t._v(" "),0==t.sellingList.length?s("div",{staticStyle:{"text-align":"center"}},[s("el-alert",{attrs:{title:"查询不到数据",type:"warning"}})],1):t._e(),t._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{gutter:20}},t._l(t.sellingList,function(e,a){return s("el-col",{key:a,attrs:{span:6,offset:1}},[s("el-card",{staticClass:"me-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(e.sellingStatus))]),t._v(" "),"完成"!==e.sellingStatus&&"已过期"!==e.sellingStatus&&"已取消"!==e.sellingStatus?s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(s){return t.updateSelling(e,"cancelled")}}},[t._v("取消")]):t._e(),t._v(" "),"交付中"===e.sellingStatus?s("el-button",{staticStyle:{float:"right",padding:"3px 8px"},attrs:{type:"text"},on:{click:function(s){return t.updateSelling(e,"done")}}},[t._v("确认收款")]):t._e()],1),t._v(" "),s("div",{staticClass:"item"},[s("el-tag",[t._v("药品ID: ")]),t._v(" "),s("span",[t._v(t._s(e.objectOfSale))])],1),t._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"success"}},[t._v("销售者ID: ")]),t._v(" "),s("span",[t._v(t._s(e.seller))])],1),t._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"danger"}},[t._v("价格: ")]),t._v(" "),s("span",[t._v("￥"+t._s(e.price)+" 元")])],1),t._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"warning"}},[t._v("有效期: ")]),t._v(" "),s("span",[t._v(t._s(e.salePeriod)+" 天")])],1),t._v(" "),s("div",{staticClass:"item"},[s("el-tag",{attrs:{type:"info"}},[t._v("创建时间: ")]),t._v(" "),s("span",[t._v(t._s(e.createTime))])],1),t._v(" "),s("div",{staticClass:"item"},[s("el-tag",[t._v("购买者ID: ")]),t._v(" "),""===e.buyer?s("span",[t._v("虚位以待")]):t._e(),t._v(" "),s("span",[t._v(t._s(e.buyer))])],1)])],1)}),1)],1)},staticRenderFns:[]};var o=s("VU/8")(c,r,!1,function(t){s("N51n")},null,null);e.default=o.exports}});
//# sourceMappingURL=8.41eb10cfef2bd6f4efc5.js.map